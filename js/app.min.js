$(document).mouseup(function(e) 
{
    var container = $(".reviews__item");

    // if the target of the click isn't the container nor a descendant of the container
    if (!container.is(e.target) && container.has(e.target).length === 0) 
    {
        container.removeClass("_active");
    }
});

// setTimeout(function() {
// 	$("#anim-message-1")
// }, )


let messAnim = true


if ($(".integration__img").length) {
$(window).scroll(function() {

	let windowScrollTop = $(window).scrollTop() + $(window).height() - $(".integration__img").height()
	if(windowScrollTop > $(".integration__img").offset().top && messAnim == true) {


		let i = 0;
			let pos = $("#anim-message-1").attr("x")
			let refreshIntervalId = setInterval(function() {
				if(i < 100) {
					$("#anim-message-1").attr("x", pos - 1)
					pos--;
					i++;
				}
				else {
					clearInterval(refreshIntervalId);
				}
				// $("#anim-message-2").attr("x")
			}, 3)



		setTimeout(function() {
			let i = 0;
			let pos = $("#anim-message-2").attr("x")
			let refreshIntervalId = setInterval(function() {
				if(i < 100) {
					$("#anim-message-2").attr("x", pos - 1)
					pos--;
					i++;
				}
				else {
					clearInterval(refreshIntervalId);
				}
				// $("#anim-message-2").attr("x")
			}, 3)
		}, 300)


		setTimeout(function() {
			let i = 0;
			let pos = $("#anim-message-3").attr("x")
			let refreshIntervalId = setInterval(function() {
				if(i < 100) {
					$("#anim-message-3").attr("x", pos - 1)
					pos--;
					i++;
				}
				else {
					clearInterval(refreshIntervalId);
				}
			}, 3)
		}, 600)


		messAnim = false

	}
});
}


// console.log($("#anim-message-1").offset().top)
// console.log(window.pageYOffset)


(() => {
	"use strict";
	const t = {};
	let e = !0,
			n = (t = 500) => {
					let n = document.querySelector("body");
					if (e) {
							let i = document.querySelectorAll("[data-lp]");
							setTimeout(() => {
									for (let t = 0; t < i.length; t++) {
											i[t].style.paddingRight = "0px";
									}
									(n.style.paddingRight = "0px"), document.documentElement.classList.remove("lock");
							}, t),
									(e = !1),
									setTimeout(function () {
											e = !0;
									}, t);
					}
			},
			i = (t = 500) => {
					let n = document.querySelector("body");
					if (e) {
							let i = document.querySelectorAll("[data-lp]");
							for (let t = 0; t < i.length; t++) {
									i[t].style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px";
							}
							(n.style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px"),
									document.documentElement.classList.add("lock"),
									(e = !1),
									setTimeout(function () {
											e = !0;
									}, t);
					}
			};
	t.mousePrlx = new (class {
			constructor(t, e = null) {
					if (((this.config = Object.assign({ init: !0, logging: !0 }, t)), this.config.init)) {
							const t = document.querySelectorAll("[data-prlx-mouse]");
							t.length ? (this.paralaxMouseInit(t), this.setLogging(`Проснулся, слежу за объектами: (${t.length})`)) : this.setLogging("Нет ни одного объекта. Сплю...zzZZZzZZz...");
					}
			}
			paralaxMouseInit(t) {
					t.forEach((t) => {
							const e = t.closest("[data-prlx-mouse-wrapper]"),
									n = t.dataset.prlxCx ? +t.dataset.prlxCx : 100,
									i = t.dataset.prlxCy ? +t.dataset.prlxCy : 100,
									a = t.hasAttribute("data-prlx-dxr") ? -1 : 1,
									s = t.hasAttribute("data-prlx-dyr") ? -1 : 1,
									o = t.dataset.prlxA ? +t.dataset.prlxA : 50;
							let r = 0,
									c = 0,
									l = 0,
									d = 0;
							function p(e = window) {
									e.addEventListener("mousemove", function (e) {
											const n = t.getBoundingClientRect().top + window.scrollY;
											if (n >= window.scrollY || n + t.offsetHeight >= window.scrollY) {
													const t = window.innerWidth,
															n = window.innerHeight,
															i = e.clientX - t / 2,
															a = e.clientY - n / 2;
													(l = (i / t) * 100), (d = (a / n) * 100);
											}
									});
							}
							!(function e() {
									(r += ((l - r) * o) / 1e3), (c += ((d - c) * o) / 1e3), (t.style.cssText = `transform: translate3D(${(a * r) / (n / 10)}%,${(s * c) / (i / 10)}%,0);`), requestAnimationFrame(e);
							})(),
									e ? p(e) : p();
					});
			}
			setLogging(t) {
					this.config.logging &&
							(function (t) {
									setTimeout(() => {
											window.FLS && console.log(t);
									}, 0);
							})(`[PRLX Mouse]: ${t}`);
			}
	})({});
	let a = !1;
	function s(t) {
			this.type = t;
	}
	setTimeout(() => {
			if (a) {
					let t = new Event("windowScroll");
					window.addEventListener("scroll", function (e) {
							document.dispatchEvent(t);
					});
			}
	}, 0),
			(s.prototype.init = function () {
					const t = this;
					(this.оbjects = []), (this.daClassname = "_dynamic_adapt_"), (this.nodes = document.querySelectorAll("[data-da]"));
					for (let t = 0; t < this.nodes.length; t++) {
							const e = this.nodes[t],
									n = e.dataset.da.trim().split(","),
									i = {};
							(i.element = e),
									(i.parent = e.parentNode),
									(i.destination = document.querySelector(n[0].trim())),
									(i.breakpoint = n[1] ? n[1].trim() : "767"),
									(i.place = n[2] ? n[2].trim() : "last"),
									(i.index = this.indexInParent(i.parent, i.element)),
									this.оbjects.push(i);
					}
					this.arraySort(this.оbjects),
							(this.mediaQueries = Array.prototype.map.call(
									this.оbjects,
									function (t) {
											return "(" + this.type + "-width: " + t.breakpoint + "px)," + t.breakpoint;
									},
									this
							)),
							(this.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (t, e, n) {
									return Array.prototype.indexOf.call(n, t) === e;
							}));
					for (let e = 0; e < this.mediaQueries.length; e++) {
							const n = this.mediaQueries[e],
									i = String.prototype.split.call(n, ","),
									a = window.matchMedia(i[0]),
									s = i[1],
									o = Array.prototype.filter.call(this.оbjects, function (t) {
											return t.breakpoint === s;
									});
							a.addListener(function () {
									t.mediaHandler(a, o);
							}),
									this.mediaHandler(a, o);
					}
			}),
			(s.prototype.mediaHandler = function (t, e) {
					if (t.matches)
							for (let t = 0; t < e.length; t++) {
									const n = e[t];
									(n.index = this.indexInParent(n.parent, n.element)), this.moveTo(n.place, n.element, n.destination);
							}
					else
							for (let t = e.length - 1; t >= 0; t--) {
									const n = e[t];
									n.element.classList.contains(this.daClassname) && this.moveBack(n.parent, n.element, n.index);
							}
			}),
			(s.prototype.moveTo = function (t, e, n) {
					e.classList.add(this.daClassname),
							"last" === t || t >= n.children.length ? n.insertAdjacentElement("beforeend", e) : "first" !== t ? n.children[t].insertAdjacentElement("beforebegin", e) : n.insertAdjacentElement("afterbegin", e);
			}),
			(s.prototype.moveBack = function (t, e, n) {
					e.classList.remove(this.daClassname), void 0 !== t.children[n] ? t.children[n].insertAdjacentElement("beforebegin", e) : t.insertAdjacentElement("beforeend", e);
			}),
			(s.prototype.indexInParent = function (t, e) {
					const n = Array.prototype.slice.call(t.children);
					return Array.prototype.indexOf.call(n, e);
			}),
			(s.prototype.arraySort = function (t) {
					"min" === this.type
							? Array.prototype.sort.call(t, function (t, e) {
										return t.breakpoint === e.breakpoint ? (t.place === e.place ? 0 : "first" === t.place || "last" === e.place ? -1 : "last" === t.place || "first" === e.place ? 1 : t.place - e.place) : t.breakpoint - e.breakpoint;
								})
							: Array.prototype.sort.call(t, function (t, e) {
										return t.breakpoint === e.breakpoint ? (t.place === e.place ? 0 : "first" === t.place || "last" === e.place ? 1 : "last" === t.place || "first" === e.place ? -1 : e.place - t.place) : e.breakpoint - t.breakpoint;
								});
			});
	new s("max").init();
	var o, r, c, l, d, p;
	new Swiper(".advantages__swiper", { pagination: { el: ".advantages__pagination" } }),
			new Swiper(".carousel-crypto__swiper", { slidesPerView: "auto", spaceBetween: 30, loop: !0, autoplay: !0 }),
			new Swiper(".carousel-footer__swiper", { slidesPerView: "auto", spaceBetween: 40, loop: !0, autoplay: !0 });
	$(".reviews__item").on("click", function () {
			$(".reviews__item").each(function () {
					$(this).hasClass("_active") && $(this).removeClass("_active");
			}),
					$(this).addClass("_active");
	}),
			(function (t) {
					let e = [
							{ background: "#D4DBB9", border: "#F1F4E6", shadow: "#D4DBB9" },
							{ background: "#D6B9DB", border: "#F8EDFA", shadow: "#D6B9DB" },
							{ background: "#1843BF", border: "#7395F9", shadow: "#1843BF" },
							{ background: "#97E0B0", border: "#DEFFE9", shadow: "#97E0B0" },
							{ background: "#B2BFE7", border: "#D7DCE9", shadow: "#B2BFE7" },
					];
					$(t).each(function (t) {
							$(this).css("background-color", e[t].background), $(this).css("border", "5px solid " + e[t].border);
					});
			})(".reviews__item"),
			$(".home-buisnes-intro__codeMask ul li").each(function () {}),
			(function () {
					let t = 0;
					setInterval(function () {
							$(".home-buisnes-intro__codeMask ul li").eq(t).css("width", "0%"), t++;
					}, 500);
			})(),
			(o = $(".mappoint")),
			(r = 0),
			(c = 0),
			setInterval(function () {
					r < o.length && 0 == c && ($(o[r]).attr("opacity", $(o[r]).data("opacity")), $(o[r + 1]).attr("opacity", $(o[r + 1]).data("opacity")), r++, $(o[r - 1]).attr("opacity", "0"), $(o[r - 2]).attr("opacity", "0")),
							r >= o.length && (c = 1),
							r > 0 && 1 == c && ($(o[r]).attr("opacity", $(o[r]).data("opacity")), $(o[r - 1]).attr("opacity", $(o[r + 1]).data("opacity")), r--, $(o[r + 1]).attr("opacity", "0"), $(o[r + 2]).attr("opacity", "0")),
							r <= 0 && (c = 0);
			}, 600),
			(l = $(".mapline")),
			(d = 0),
			(p = 0),
			setInterval(function () {
					d < l.length && 0 == p && ($(l[d - 1]).attr("opacity", "0"), $(l[d - 2]).attr("opacity", "0"), $(l[d]).attr("opacity", "1"), $(l[d + 1]).attr("opacity", "1"), d++),
							d >= l.length && (p = 1),
							d > 0 && 1 == p && ($(l[d + 1]).attr("opacity", "0"), $(l[d + 2]).attr("opacity", "0"), $(l[d - 1]).attr("opacity", "1"), $(l[d]).attr("opacity", "1"), d--),
							d <= 0 && (p = 0);
			}, 1e3);
	new Swiper(".wallet-support__swiper", { slidesPerView: "auto", spaceBetween: 20, loop: !0, autoplay: !0, breakpoints: { 991.98: { spaceBetween: 110 }, 767.98: { spaceBetween: 60 } } });
	$(".steps-cont__item").on("mouseenter", function () {
			let t = $(this).index();
			t > 0
					? $(".steps-cont__item")
								.eq(t - 1)
								.hasClass("_active") && $(this).addClass("_active")
					: 0 == t && $(this).addClass("_active");
			let e = $(".steps-cont__item._active").last().index() + 1,
					n = ($(".steps__cont").width() - $(".steps-cont__inner").width()) / 2 + (e - 1) * $(".steps-cont__item").first().outerWidth() + 30 * (e - 1);
			if ((console.log(e - 1), console.log((e - 1) * $(".steps-cont__item").first().outerWidth()), 0 != e)) {
					let t = "";
					(t += `<style>.steps-cont::after {width: ${n}px;}</style>`), $("#line-style").html(t);
			}
	}),
			$(window).width() < 769 &&
					$(".reviews__item").each(function () {
							$(this).css("left", "0px");
							let t = $(this).children(".reviews__info").offset().left - 40;
							console.log(t);
							let e = "-" + t + "px";
							$(this).children(".reviews__info").css("left", e);
					}),
			$(".calculator-cont__item-range input").each(function () {
					$(this).parents(".calculator-cont__item-range").siblings(".calculator-cont__item-num").children("p").html($(this).val());
					let t = ($(this).val() / $(this).attr("max")) * 100;
					$(this)
							.siblings(".calculator-cont__item-range-fill")
							.css("width", t + "%"),
							$(this)
									.siblings(".calculator-cont__item-range-circle")
									.css("left", t + "%");
			}),
			$(".calculator-cont__item-range input").on("input", function () {
					$(this).parents(".calculator-cont__item-range").siblings(".calculator-cont__item-num").children("p").html($(this).val());
					let t = ($(this).val() / $(this).attr("max")) * 100;
					$(this)
							.siblings(".calculator-cont__item-range-fill")
							.css("width", t + "%"),
							$(this)
									.siblings(".calculator-cont__item-range-circle")
									.css("left", t + "%");
			}),
			$(".partners-calc-cont__range-slider input").each(function () {
					$(this).parents(".partners-calc-cont__range-slider").siblings(".partners-calc-cont__range-num").children("p").html($(this).val());
					let t = ($(this).val() / $(this).attr("max")) * 100;
					$(this)
							.siblings("p")
							.css("width", t + "%"),
							$(this)
									.siblings("span")
									.css("left", t + "%");
			}),
			$(".partners-calc-cont__range-slider input").on("input", function () {
					$(this).parents(".partners-calc-cont__range-slider").siblings(".partners-calc-cont__range-num").children("p").html($(this).val());
					let t = ($(this).val() / $(this).attr("max")) * 100;
					$(this)
							.siblings("p")
							.css("width", t + "%"),
							$(this)
									.siblings("span")
									.css("left", t + "%");
			}),
			$(".partners-calc-cont__buttons-item").on("click", function () {
					$(".partners-calc-cont__buttons-item").removeClass("_active"), $(this).addClass("_active");
			}),
			(window.FLS = !0),
			(function (t) {
					let e = new Image();
					(e.onload = e.onerror = function () {
							t(2 == e.height);
					}),
							(e.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA");
			})(function (t) {
					let e = !0 === t ? "webp" : "no-webp";
					document.documentElement.classList.add(e);
			}),
			document.querySelector(".icon-menu") &&
					document.addEventListener("click", function (t) {
							e &&
									t.target.closest(".icon-menu") &&
									(((t = 500) => {
											document.documentElement.classList.contains("lock") ? n(t) : i(t);
									})(),
									document.documentElement.classList.toggle("menu-open"));
					});
})();
